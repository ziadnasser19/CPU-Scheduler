package GUI;

import Models.ProcessManager;
import Algorithms.SchedulingAlgorithm;
import javax.swing.*;
import java.awt.*;

public class MainFrame extends JFrame {
    private final ProcessManager processManager;
    private final InputPanel inputPanel;
    private final ReadyQueuePanel readyPanel;
    private final ResultPanel resultPanel;
    private final GanttChartPanel ganttPanel;
    private final AveragePanel averagePanel;

    public MainFrame() {
        super("CPU Scheduling Simulator");
        setDefaultCloseOperation(EXIT_ON_CLOSE);
        setSize(1000, 800);
        setLayout(new BorderLayout(10, 10));

        processManager = new ProcessManager();

        // Initialize panels
        resultPanel = new ResultPanel();
        ganttPanel = new GanttChartPanel();
        averagePanel = new AveragePanel();
        readyPanel = new ReadyQueuePanel();
        inputPanel = new InputPanel(processManager, readyPanel, resultPanel, ganttPanel, averagePanel);

        // Layout
        JSplitPane centerSplit = new JSplitPane(JSplitPane.VERTICAL_SPLIT, readyPanel, resultPanel);
        centerSplit.setResizeWeight(0.5);

        add(inputPanel, BorderLayout.NORTH);
        add(centerSplit, BorderLayout.CENTER);
        add(ganttPanel, BorderLayout.SOUTH);
        add(averagePanel, BorderLayout.EAST);

        setVisible(true);
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(MainFrame::new);
    }
}